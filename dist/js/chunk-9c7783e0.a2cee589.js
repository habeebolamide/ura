(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c7783e0"],{"386d":function(t,e,s){"use strict";var n=s("cb7c"),a=s("83a1"),o=s("5f1b");s("214f")("search",1,(function(t,e,s,r){return[function(s){var n=t(this),a=void 0==s?void 0:s[e];return void 0!==a?a.call(s,n):new RegExp(s)[e](String(n))},function(t){var e=r(s,t,this);if(e.done)return e.value;var i=n(t),c=String(this),l=i.lastIndex;a(l,0)||(i.lastIndex=0);var u=o(i,c);return a(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]}))},"7ee4":function(t,e,s){},"81a8":function(t,e,s){"use strict";s.r(e);var n=s("7496"),a=s("8336"),o=s("b0af"),r=s("99d9"),i=s("62ad"),c=s("169a"),l=s("8860"),u=s("da13"),d=s("5d23"),p=s("e449"),_=s("0fd9"),v=s("b974"),f=s("2fa4"),b=s("8654"),h=(s("c5f6"),s("7f7f"),s("386d"),function(){var t=this,e=t._self._c;return e(n["a"],{staticClass:"p-4"},[e("h2",{staticClass:"page-title mb-0"},[t._v("Invoice")]),e("small",[t._v("Invoice listing")]),e("b-row",{staticClass:"mt-4"},[e("b-col",[e("Widget",{attrs:{title:"",customHeader:""}},[e("h5",{staticClass:"d-inline-block"},[t._v("Manage "),e("span",{staticClass:"fw-semi-bold"},[t._v("user Invoice")])]),e("VueElementLoading",{attrs:{active:t.loading,spinner:"bar-fade-scale",color:"var(--primary)",text:"Loading..",duration:"0.6"}}),e("div",{staticClass:"mt-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e(_["a"],{staticClass:"bg-isnfo"},[e(i["a"],{attrs:{cols:"12",md:"3"}},[e(v["a"],{attrs:{items:["PAID","UNPAID"],label:"Status",outlined:""},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}})],1),e(i["a"],{attrs:{cols:"12",md:"3"}},[e(b["a"],{attrs:{label:"Name",placeholder:"Placeholder",outlined:""},model:{value:t.filters.search,callback:function(e){t.$set(t.filters,"search",e)},expression:"filters.search"}})],1),e(i["a"],{staticClass:"text-center pt-5",attrs:{cols:"12",md:"2"}},[e("button",{staticClass:"btn-lg btn-block btn btn-outline-success",attrs:{type:"button"},on:{click:t.fetchData}},[t._v("Filter")])])],1)],1)]),e("div",{staticClass:"table-responsive mt-4"},[e("table",{staticClass:"table table-hover table-sm mb-0 requests-table"},[e("thead",[e("tr",[e("th",{staticClass:"hidden-sm-down"},[t._v("ID")]),e("th",{staticClass:"hidden-sm-down"},[t._v("DATE")]),e("th",{staticClass:"hidden-sm-down"},[t._v("USER INFO")]),e("th",{staticClass:"hidden-sm-down"},[t._v("PRODUCT INFO")]),e("th",{staticClass:"hidden-sm-down"},[t._v("QUANTITY ")]),e("th",{staticClass:"hidden-sm-down"},[t._v("USED COUPON")]),e("th",{staticClass:"hidden-sm-down"},[t._v("ADDRESS")]),e("th",{staticClass:"hidden-sm-down text-center"},[t._v("Action")])])]),e("tbody",t._l(t.alluserInvoice.data,(function(s,n){return e("tr",{key:n},[e("td",[t._v("#"+t._s(n+1))]),e("td",[t._v("\n                                        "+t._s(s.created_at)+"\n                                    ")]),e("td",[t._v("\n                                        "+t._s(s.user.name)+" ->"+t._s(s.user.phone)+"\n                                           "),e("span",{staticClass:"badge",class:{"badge-warning":"UNPAID"==s.status,"badge-success":"PAID"==s.status}},[t._v("\n                                            "+t._s(s.status.toUpperCase())+"\n                                        ")])]),e("td",[e("p",{staticClass:"mb-1"},[t._v("\n                                        Name\n                                        "+t._s(s.product.product_name)+"\n                                       ")]),e("p",{staticClass:"mb-1"},[t._v("Price\n                                            "+t._s(Number(s.product.price).toLocaleString())+"\n                                        ")]),e("p",{staticClass:"mb-1"},[t._v("Discount\n                                            "+t._s(s.product.discount)+"\n                                        ")])]),e("td",[e("p",{staticClass:"mb-1"},[t._v("\n                                        "+t._s(s.quantity)+"\n                                    ")])]),e("td",[e("p",{staticClass:"mb-1"},[t._v("\n                                            "+t._s(0!=s.coupon_disount?"Yes":"No")+" "),0!=s.coupon_disount?e("span",[t._v("\n                                                Discount\n                                                "+t._s(s.coupon_disount)+"\n                                            ")]):t._e()])]),e("td",[s.address?e("p",{staticClass:"mb-1"},[e("span",[t._v("\n                                                \n                                                "+t._s(s.address.name)+"\n                                            ")])]):t._e()]),e("td",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e(p["a"],{attrs:{bottom:"",origin:"center center",transition:"scale-transition","close-on-content-click":t.closeOnContentClick,left:""},scopedSlots:t._u([{key:"activator",fn:function(s){var n=s.on,o=s.attrs;return[e(a["a"],t._g(t._b({attrs:{color:"black",icon:""}},"v-btn",o,!1),n),[e("i",{staticClass:"fa fa-list-ul"})])]}}],null,!0)},[e(l["a"],[e(u["a"],[e(d["b"],{staticStyle:{cursor:"pointer"},on:{click:function(e){t.$bvModal.show("view_"),t.current=s}}},[e("i",{staticClass:"mdi mdi-square-edit-outline mr-1"}),t._v(" View\n                                                        Invoice \n                                                    ")])],1)],1)],1)],1)])})),0)])])]),e("div",{staticClass:"col-md-12"},[e("laravelVuePagination",{attrs:{data:t.alluserInvoice},on:{"pagination-change-page":t.fetchData}})],1)],1)],1)],1),t.current.user?e("b-modal",{staticStyle:{background:"white"},attrs:{size:"lg",title:"View Invoice",id:"view_","hide-footer":""}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive-sm"},[e("table",{staticClass:"table"},[e("tr",[e("th",[t._v("User ")]),e("td",[t._v("\n                                "+t._s(t.current.user.name)+"\n                                \n                                "),e("span",{staticClass:"badge",class:{"badge-warning":"UNPAID"==t.current.status,"badge-success":"PAID"==t.current.status}},[t._v("\n                                    "+t._s(t.current.status.toUpperCase())+"\n                                ")])])]),e("tr",[e("th",[t._v("User Phone")]),e("td",[t._v("\n                                "+t._s(t.current.user.phone)+"\n                            \n                            ")])]),e("tr",[e("th",[t._v("Product Name")]),e("td",[t._v("\n                                "+t._s(t.current.product.product_name)+"\n                            ")])]),e("tr",[e("th",[t._v("Product Discount")]),e("td",[t._v("\n                                "+t._s(t.current.product.discount)+" \n                            ")])]),e("tr",[e("th",[t._v("Product Price")]),e("td",[t._v("\n                                 "+t._s(Number(t.current.product.price).toLocaleString())+"\n                                \n                            ")])]),e("tr",[e("th",[t._v("Product Quantity")]),e("td",[e("p",[t._v(t._s(t.current.quantity))])])]),e("tr",[e("th",[t._v("USED COUPON")]),e("td",[e("p",{staticClass:"mb-1"},[t._v("\n                                    "+t._s(0!=t.current.coupon_disount?"Yes":"No")+" "),0!=t.current.coupon_disount?e("span",[t._v("\n                                        Discount\n                                        "+t._s(t.current.coupon_disount)+"\n                                    ")]):t._e()])])]),e("tr",[e("th",[t._v("ADDRESS")]),e("td",[t._v("\n                                "+t._s(t.current.address.address)+"\n\n                            ")])])])])])]),e(r["a"],{staticStyle:{"margin-top":"100px"}},[e(f["a"]),e("button",{staticClass:"btn btn-primary",attrs:{"data-dimiss":"modal"}},[t._v("\n                Cancel\n            ")])],1)],1):t._e(),e(c["a"],{attrs:{"max-width":"390"},model:{value:t.openConfirm,callback:function(e){t.openConfirm=e},expression:"openConfirm"}},[e(o["a"],[e(r["c"],{staticClass:"text-h5"},[t._v("\n                Change Order status to "+t._s(t.dynamic_status)+"\n            ")]),e(r["b"],[t._v("\n                Are you sure you want to perform this operation ?\n            ")]),e(r["a"],[e(f["a"]),e(a["a"],{attrs:{color:" darken-1",text:""},on:{click:function(e){t.openConfirm=!1}}},[t._v("\n                    No, exit\n                ")]),e(a["a"],{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.toggle_status(t.status_id,t.dynamic_status),t.openConfirm=!1}}},[t._v("\n                    Yes, continue\n                ")])],1)],1)],1),e(c["a"],{attrs:{"max-width":"390"},model:{value:t.openConfirm2,callback:function(e){t.openConfirm2=e},expression:"openConfirm2"}},[e(o["a"],[e(r["c"],{staticClass:"text-h5"},[t._v("\n                Delete property\n            ")]),e(r["b"],[t._v("\n                Are you sure you want to perform this operation ?\n            ")]),e(r["a"],[e(f["a"]),e(a["a"],{attrs:{color:" darken-1",text:""},on:{click:function(e){t.openConfirm2=!1}}},[t._v("\n                    No, exit\n                ")]),e(a["a"],{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.deleteProperty(t.del_id),t.openConfirm2=!1}}},[t._v("\n                    Yes, continue\n                ")])],1)],1)],1)],1)}),m=[],g=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),C=s("4506"),y=s("bc3a"),O=s.n(y),w=s("6ad0"),P=s.n(w),D=s("7211"),k=s.n(D),x=s("2f62");function I(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function N(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?I(Object(s),!0).forEach((function(e){Object(g["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var S={components:{Widget:C["a"],VueElementLoading:P.a,laravelVuePagination:k.a},data:function(){return{status_id:0,del_id:0,dynamic_status:"",openConfirm:!1,openConfirm2:!1,dialog:!1,current:{},relData:[],properties:{data:[]},filters:{},loading:!1,isDialogVisible:!1,closeOnContentClick:!0,alluserInvoice:{data:[]}}},computed:N({},Object(x["d"])("modules_data",["sub_categories","nested_sub_categories","product_disease"])),mounted:function(){this.fetchData()},methods:N(N({},Object(x["c"])("modules_data",["getNestedSubCategories"])),{},{pass_current:function(t){this.current=t},fetchData:function(){var t=this;this.$api.post(this.dynamic_route("/order/admin/invoice/user_invoice"),this.filters).then((function(e){t.alluserInvoice=e.data.data})).catch((function(t){})).finally((function(){NProgress.done()}))},toggle_status:function(t,e){var s=this,n={reference:t,status:e};this.$api.post(this.dynamic_route("/order/admin/change-status"),n).then((function(t){s.fetchData()})).catch((function(t){s.$toasted.error(t.response.data.message,{action:{text:"Close",onClick:function(t,e){e.goAway(0)}}})})).finally((function(){NProgress.done()}))},relatedOrders:function(t){var e=this.alluserInvoice.data.filter((function(e){return e.status==t.status&&e.order_no==t.order_no}));this.relData=e,this.$bvModal.show("related_order")},deleteProperty:function(t){var e=this;this.loading=!0,O.a.delete(this.dynamic_route("/properties/".concat(t)),{headers:{authorization:"Bearer ".concat(this.authToken)}}).then((function(){e.fetchData(),e.$toast.success("Deleted successfully!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).catch((function(t){return e.loading=!1,401==t.response.status&&"Unauthorized"==t.response.statusText?e.logoutUser():500==t.response.status?e.$toast.error("Unable to delete property  it has been used in many places!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):void 0})).finally((function(){e.loading=!1}))},linkPage:function(){this.$router.push({name:"CreateProduct"})}})},U=S,j=(s("cf85"),s("2877")),A=Object(j["a"])(U,h,m,!1,null,"22247cf3",null);e["default"]=A.exports},cf85:function(t,e,s){"use strict";s("7ee4")}}]);