(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0742ae8c"],{"087d":function(t,e,n){"use strict";n.r(e);var a=n("7496"),i=n("8336"),s=n("b0af"),o=n("99d9"),r=n("169a"),l=n("8860"),c=n("da13"),d=n("5d23"),u=n("e449"),p=n("2fa4"),m=function(){var t=this,e=t._self._c;return e(a["a"],{staticClass:"p-4"},[e("h2",{staticClass:"page-title"},[t._v("Banners")]),e("b-row",[e("b-col",[e("Widget",{attrs:{title:"",customHeader:""}},[e("h5",{staticClass:"d-inline-block"},[t._v("Manage "),e("span",{staticClass:"fw-semi-bold"},[t._v("Banners")])]),e(i["a"],{staticClass:"float-right btn-lg custom-btn",attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.$bvModal.show("upload-banner")}}},[e("i",{staticClass:"mdi mdi-plus-circle"}),t._v(" Upload Banner\n                ")]),e("VueElementLoading",{attrs:{active:t.loading,spinner:"bar-fade-scale",color:"var(--primary)",text:"Loading..",duration:"0.6"}}),e("div",{staticClass:"mt-3"},[t.banner?e("div",{staticClass:"table-responsive mt-4"},[e("table",{staticClass:"table table-hover table-sm mb-0 requests-table"},[e("thead",[e("tr",[e("th",{staticClass:"hidden-sm-down"},[t._v("#")]),e("th",{staticClass:"hidden-sm-down"},[t._v(" Banner Url")]),e("th",{staticClass:"hidden-sm-down text-center"},[t._v("Action")])])]),e("tbody",t._l(t.banner,(function(n,a){return e("tr",{key:a},[e("td",[t._v(t._s(a+1))]),e("td",[t._v(t._s(n.slider_image))]),e("td",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e(u["a"],{attrs:{bottom:"",origin:"center center",transition:"scale-transition","close-on-content-click":t.closeOnContentClick,left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var a=n.on,s=n.attrs;return[e(i["a"],t._g(t._b({attrs:{color:"black",icon:""}},"v-btn",s,!1),a),[e("i",{staticClass:"fa fa-list-ul"})])]}}],null,!0)},[e(l["a"],[e(c["a"],[e(d["b"],{staticStyle:{cursor:"pointer"},on:{click:function(e){t.openConfirm=!0,t.url=n.slider_image}}},[e("i",{staticClass:"mdi mdi-square-edit-outline mr-1"}),t._v(" Preview\n                                                ")])],1),e(c["a"],[e(d["b"],{staticStyle:{cursor:"pointer"},on:{click:function(e){t.openConfirm2=!0,t.del_id=n.id}}},[e("i",{staticClass:"mdi mdi-square-edit-outline mr-1"}),t._v(" Delete Banner\n                                                ")])],1)],1)],1)],1)])})),0)])]):e("div",{staticClass:"col-md-12 alert mt-5 alert-info text-center"},[e("p",[t._v("No record found")])])]),e("b-modal",{staticStyle:{background:"white"},attrs:{title:"Upload Banner",size:"lg",id:"upload-banner","hide-footer":""}},[e("UploadBanner",{attrs:{my_model:t.$bvModal},on:{updated:function(e){return t.fetchData()}}})],1)],1)],1)],1),e(r["a"],{attrs:{"max-width":"1000"},model:{value:t.openConfirm,callback:function(e){t.openConfirm=e},expression:"openConfirm"}},[e(s["a"],[e(o["c"],{staticClass:"text-h5"},[t._v("\n                Preview Banner\n            ")]),e(o["b"],[e("img",{staticClass:"img-fluid",attrs:{src:t.url,alt:""}})]),e(o["a"],[e(p["a"]),e(i["a"],{attrs:{color:" darken-1",text:""},on:{click:function(e){t.openConfirm=!1}}},[t._v("\n                CLOSE\n            ")])],1)],1)],1),e(r["a"],{attrs:{"max-width":"390",persistent:""},model:{value:t.openConfirm2,callback:function(e){t.openConfirm2=e},expression:"openConfirm2"}},[e(s["a"],[e(o["c"],{staticClass:"text-h5"},[t._v("\n                Delete Banner\n            ")]),e(o["b"],[t._v("\n                Are you sure you want to perfom this action \n            ")]),e(o["a"],[e(p["a"]),e(i["a"],{attrs:{color:" darken-1",text:""},on:{click:function(e){t.openConfirm2=!1}}},[t._v("\n                No, exit\n            ")]),e(i["a"],{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.deleteBanner(),t.openConfirm2=!1}}},[t._v("\n                Yes, continue\n            ")])],1)],1)],1)],1)},f=[],g=function(){var t=this,e=t._self._c;return e("div",[e("VueElementLoading",{attrs:{active:t.loading,spinner:"bar-fade-scale",color:"var(--primary)",text:"Loading..",duration:"0.6"}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mb-3",staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{id:"preview"}},[t.url?e("img",{staticStyle:{"max-width":"70%","max-height":"70%"},attrs:{src:t.url}}):t.prev_img?e("img",{attrs:{src:t.prev_img}}):e("img",{staticStyle:{"max-width":"70%","max-height":"70%"},attrs:{src:"file"==t.type?"https://www.computerhope.com/jargon/j/jpeg.png":"https://res.cloudinary.com/crownbirthltd/image/upload/v1597424758/psitywq3w0z4wzpojmp8.png"}})]),e("div",{staticClass:"input-group mb-3"},[t._m(0),e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",accept:"image/*"},on:{change:t.onFileChange}}),e("label",{staticClass:"custom-file-label",attrs:{for:"inputGroupFile01"}},[t._v(t._s(t.fileName))])])])])]),e("div",{staticClass:"col-12 p-0 text-right mt-4"},[e("button",{staticClass:"mr-5 btn btn-lg btn-outline-success",attrs:{type:"button"},on:{click:t.closeMe}},[t._v("CANCEL")]),e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.save()}}},[t._v("Upload")])])],1)},b=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroupFileAddon01"}},[t._v("Upload Banner")])])}],h=n("6ad0"),v=n.n(h),C={components:{VueElementLoading:v.a},data:function(){return{url:null,fileName:"Select an image...",form:{},loading:!1}},props:["my_model"],mounted:function(){},methods:{onFileChange:function(t){var e=this,n=t.target.files[0];this.url=URL.createObjectURL(n);var a=new FileReader;a.onloadend=function(t){var n=t.target;e.form.slider_image=n.result},a.readAsDataURL(n)},closeMe:function(){this.$bvModal.hide("upload-banner")},save:function(){var t=this;this.loading=!0,this.$api.post(this.dynamic_route("/banner/submit-banner"),this.form).then((function(){t.loading=!1,t.$emit("updated"),t.closeMe(),t.slider_image=null,t.$toast.success("Uploaded successfully !",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).catch((function(e){t.loading=!1,e.response.data.errors&&(t.errorMessage=e.response.data.errors)})).finally((function(){t.loading=!1,NProgress.done()}))}}},_=C,y=n("2877"),w=Object(y["a"])(_,g,b,!1,null,null,null),k=w.exports,x=n("4506"),B=n("7211"),O=n.n(B),L={components:{Widget:x["a"],VueElementLoading:v.a,laravelVuePagination:O.a,UploadBanner:k},data:function(){return{status_id:0,del_id:"",dynamic_status:"",openConfirm:!1,openConfirm2:!1,dialog:!1,current:{},banner:{},filters:{},loading:!1,isDialogVisible:!1,closeOnContentClick:!0,url:""}},computed:{},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.loading=!0,this.$api.post(this.dynamic_route("/banner/get-banner")).then((function(e){t.banner=e.data.data})).catch((function(t){})).finally((function(){t.loading=!1,NProgress.done()}))},deleteBanner:function(t){var e=this;this.loading=!0,this.$api.post(this.dynamic_route("/banner/delete-banner/".concat(this.del_id))).then((function(){e.$toast.success("Slider Deleted Successfully !",{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).catch((function(){})).finally((function(){e.fetchData(),e.loading=!1,NProgress.done()}))}}},S=L,U=(n("b74e"),Object(y["a"])(S,m,f,!1,null,"b3f568e4",null));e["default"]=U.exports},"636e":function(t,e,n){},b74e:function(t,e,n){"use strict";n("636e")}}]);