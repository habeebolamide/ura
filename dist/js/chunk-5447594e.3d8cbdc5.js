(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5447594e"],{1126:function(t,e,a){},1681:function(t,e,a){},"386d":function(t,e,a){"use strict";var n=a("cb7c"),o=a("83a1"),s=a("5f1b");a("214f")("search",1,(function(t,e,a,i){return[function(a){var n=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,n):new RegExp(a)[e](String(n))},function(t){var e=i(a,t,this);if(e.done)return e.value;var r=n(t),c=String(this),l=r.lastIndex;o(l,0)||(r.lastIndex=0);var u=s(r,c);return o(r.lastIndex,l)||(r.lastIndex=l),null===u?-1:u.index}]}))},"5a96":function(t,e,a){"use strict";a("1126")},"7a00":function(t,e,a){"use strict";a("d32c")},a844:function(t,e,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),o=(a("c5f6"),a("1681"),a("8654")),s=a("58df");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=Object(s["a"])(o["a"]);e["a"]=c.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return r({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var a;t?e.calculateInputHeight():null===(a=e.$refs.input)||void 0===a||a.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=o["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){o["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},d32c:function(t,e,a){},ef98:function(t,e,a){"use strict";a.r(e);var n=a("7496"),o=a("8336"),s=a("b0af"),i=a("99d9"),r=a("62ad"),c=a("169a"),l=a("8860"),u=a("da13"),d=a("5d23"),f=a("e449"),p=a("0fd9"),m=a("b974"),g=a("2fa4"),b=a("8654"),h=a("a844"),v=(a("7f7f"),a("386d"),function(){var t=this,e=t._self._c;return e(n["a"],{staticClass:"p-4"},[e("h2",{staticClass:"page-title mb-0"},[t._v("SubCategories")]),e("b-row",{staticClass:"mt-4"},[e("b-col",[e("Widget",{attrs:{title:"",customHeader:""}},[e("h5",{staticClass:"d-inline-block"},[t._v("\n          Manage "),e("span",{staticClass:"fw-semi-bold"},[t._v("SubCategories")])]),e("div",{staticClass:"mt-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row bg-isnfo"},[e("div",{staticClass:"border-right col-md-9 col-12"},[e(p["a"],[e(r["a"],{attrs:{cols:"12",md:"6"}},[e(b["a"],{attrs:{label:"Filter by name",placeholder:"Search by name",outlined:""},on:{keyup:function(e){return t.fetchData()}},model:{value:t.filters.search,callback:function(e){t.$set(t.filters,"search",e)},expression:"filters.search"}})],1),e(r["a"],{attrs:{cols:"12",sm:"12",md:"5"}},[e(m["a"],{attrs:{label:"Category*",items:t.categories,"item-text":"category_name","item-value":"id",outlined:""},on:{change:function(e){return t.fetchData()}},model:{value:t.filters.category_id,callback:function(e){t.$set(t.filters,"category_id",e)},expression:"filters.category_id"}})],1)],1),e("div",{staticClass:"table-responsive mt-4"},[e("VueElementLoading",{attrs:{active:t.loading,spinner:"bar-fade-scale",color:"var(--primary)",text:"Loading..",duration:"0.6"}}),t.subcategories.length?e("table",{staticClass:"table table-hover table-sm mb-0 requests-table"},[e("thead",[e("tr",[e("th",{staticClass:"hidden-sm-down"},[t._v("ID")]),e("th",{staticClass:"hidden-sm-down"},[t._v("NAME")]),e("th",{staticClass:"hidden-sm-down"},[t._v("Category")]),e("th",{staticClass:"hidden-sm-down"},[t._v("DESCRIPTION")]),e("th",{staticClass:"hidden-sm-down text-center"},[t._v("Action")])])]),e("tbody",t._l(t.subcategories,(function(a,n){return e("tr",{key:n},[e("td",[t._v("\n                            "+t._s(n+1)+"\n                          ")]),e("td",[t._v("\n                            "+t._s(a.name)+"\n                          ")]),e("td",[t._v("\n                            "+t._s(a.category.category_name)+"\n                          ")]),e("td",[t._v("\n                            "+t._s(a.description)+"\n                          ")]),e("td",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e(f["a"],{attrs:{bottom:"",origin:"center center",transition:"scale-transition","close-on-content-click":t.closeOnContentClick,left:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,s=a.attrs;return[e(o["a"],t._g(t._b({attrs:{color:"black",icon:""}},"v-btn",s,!1),n),[e("i",{staticClass:"fa fa-list-ul"})])]}}],null,!0)},[e(l["a"],[e(u["a"],[e(d["b"],{staticStyle:{cursor:"pointer"},on:{click:function(e){t.$bvModal.show("edit"),t.current=a}}},[e("i",{staticClass:"mdi mdi-square-edit-outline mr-1"}),t._v("\n                                    Edit\n                                  ")])],1),e(u["a"],[e(d["b"],{staticStyle:{cursor:"pointer"},on:{click:function(e){t.openConfirm2=!0,t.del_id=a.id}}},[e("i",{staticClass:"mdi mdi-square-edit-outline mr-1"}),t._v("\n                                    Delete\n                                  ")])],1)],1)],1)],1)])})),0)]):e("div",{staticClass:"alert alert-info"},[e("h5",[t._v("No records found")])])],1)],1),e("div",{staticClass:"col-md-3 col-12",attrs:{md:"5"}},[e("VueElementLoading",{attrs:{active:t.loading1,spinner:"bar-fade-scale",color:"var(--primary)",text:"Loading..",duration:"0.6"}}),e("form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e(r["a"],{staticClass:"bgs-info m-0 p-0",attrs:{cols:"12",sm:"12"}},[e(b["a"],{attrs:{required:"",label:"Name",outlined:"",clearable:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e(r["a"],{staticClass:"bgs-info m-0 p-0",attrs:{cols:"12",sm:"12",md:"12"}},[e(m["a"],{attrs:{label:"Category*",items:t.categories,"item-text":"category_name","item-value":"id",outlined:""},model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}})],1),e(r["a"],{staticClass:"m-0 p-0",attrs:{cols:"12",sm:"12"}},[e(h["a"],{attrs:{required:"",outlined:"",name:"input-7-4",label:"Description ",value:"Lorem ipsum dolor sit amt"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),e(r["a"],{staticClass:"text-center m-0 p-0",attrs:{cols:"12",sm:"12"}},[e("button",{staticClass:"btn btn-block btn-lg btn-primary",attrs:{type:"submit"}},[t._v("\n                        SAVE\n                      ")])])],1)],1)])])])]),e("div",{staticClass:"col-md-12"})])],1)],1),e("b-modal",{staticStyle:{background:"white"},attrs:{title:"Edit",id:"edit","hide-footer":""}},[e("edit",{attrs:{my_model:t.$bvModal,data:t.current},on:{updated:function(e){return t.fetchData()}}})],1),e(c["a"],{attrs:{"max-width":"390"},model:{value:t.openConfirm,callback:function(e){t.openConfirm=e},expression:"openConfirm"}},[e(s["a"],[e(i["c"],{staticClass:"text-h5"},[t._v("\n        Change property status to "+t._s(t.dynamic_status)+"\n      ")]),e(i["b"],[t._v("\n        Are you sure you want to perform this operation ?\n      ")]),e(i["a"],[e(g["a"]),e(o["a"],{attrs:{color:" darken-1",text:""},on:{click:function(e){t.openConfirm=!1}}},[t._v("\n          No, exit\n        ")]),e(o["a"],{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.toggle_status(t.status_id,t.dynamic_status),t.openConfirm=!1}}},[t._v("\n          Yes, continue\n        ")])],1)],1)],1),e(c["a"],{attrs:{"max-width":"460"},model:{value:t.openConfirm2,callback:function(e){t.openConfirm2=e},expression:"openConfirm2"}},[e(s["a"],[e(i["c"],{staticClass:"text-h5"},[t._v(" Delete Sub Category ")]),e(i["b"],[t._v("\n        Are you sure you want to perform this operation ?\n      ")]),e(i["a"],[e(g["a"]),e(o["a"],{attrs:{color:" darken-1",text:""},on:{click:function(e){t.openConfirm2=!1}}},[t._v("\n          No, exit\n        ")]),e(o["a"],{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.deleteCategory(t.del_id),t.openConfirm2=!1}}},[t._v("\n          Yes, continue\n        ")])],1)],1)],1)],1)}),y=[],C=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),_=a("4506"),O=function(){var t=this,e=t._self._c;return e(n["a"],{staticClass:"p-4"},[e("div",{},[e("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.update.apply(null,arguments)}}},[e("VueElementLoading",{attrs:{active:t.loading,spinner:"bar-fade-scale",color:"var(--primary)",text:"Loading..",duration:"0.6"}}),e(i["b"],{},[e(r["a"],{staticClass:"bgs-info m-0 p-0",attrs:{cols:"12",sm:"12"}},[e(b["a"],{attrs:{required:"",label:"Name",outlined:"",clearable:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e(r["a"],{staticClass:"bgs-info m-0 p-0",attrs:{cols:"12",sm:"12",md:"12"}},[e(m["a"],{attrs:{label:"Category*",items:t.categories,"item-text":"category_name","item-value":"id",outlined:""},model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}})],1),e(r["a"],{staticClass:"m-0 p-0",attrs:{cols:"12",sm:"12"}},[e(h["a"],{attrs:{required:"",outlined:"",name:"input-7-4",label:"Description ",value:"Lorem ipsum dolor sit amt"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),e(r["a"],{staticClass:"text-center m-0 p-0",attrs:{cols:"12",sm:"12"}},[e("button",{staticClass:"btn btn-block btn-lg btn-primary",attrs:{type:"submit"}},[t._v("SAVE")]),e("button",{staticClass:"btn btn-block btn-lg btn-outline-success",attrs:{type:"button"},on:{click:t.closeMe}},[t._v("CANCEL")])])],1)],1)])])},w=[],x=(a("7514"),a("8096"),a("953d")),k=a("bc3a"),j=a.n(k),P=a("6ad0"),D=a.n(P),S=a("2f62");function $(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$(Object(a),!0).forEach((function(e){Object(C["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var N={props:["my_model","data"],components:{quillEditor:x["quillEditor"],VueElementLoading:D.a},data:function(){return{form:this.data,nameRules:[function(t){return!!t||"Name is required"}],statusRules:[function(t){return!!t||"Status is required"}],editorOption:{debug:"info",placeholder:"Contents..",readOnly:!0,theme:"snow"},delta:void 0,loading:!1}},computed:E({},Object(S["d"])("modules_data",["sub_categories","categories","nested_sub_categories","product_disease"])),methods:E(E({},Object(S["c"])("modules_data",["getSubCategories","getCategories","getNestedSubCategories","getProductDisease"])),{},{closeMe:function(){this.$bvModal.hide("edit")},update:function(){var t=this;this.loading=!0,this.$api.patch(this.dynamic_route("/sub-category/"+this.form.id),this.form).then((function(e){t.closeMe(),t.$toasted.success("Edited successfully!",{action:{text:"Close",onClick:function(t,e){e.goAway(0)}}}),t.$emit("updated")})).catch((function(t){401==t.response.status&&t.response.statusText})).finally((function(){t.loading=!1,NProgress.done()}))}}),mounted:function(){var t=this;this.getCategories();var e=this.categories.find((function(e){return e.id==t.form.category_id}));this.form.category_id=e.id}},I=N,H=(a("5a96"),a("2877")),L=Object(H["a"])(I,O,w,!1,null,null,null),q=L.exports,A=a("7211"),T=a.n(A);function V(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?V(Object(a),!0).forEach((function(e){Object(C["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var B={components:{Widget:_["a"],edit:q,VueElementLoading:D.a,laravelVuePagination:T.a},data:function(){return{status_id:0,del_id:0,dynamic_status:"",openConfirm:!1,openConfirm2:!1,dialog:!1,current:{},subcategories:[],filters:{search:"",category_id:""},loading:!1,loading1:!1,isDialogVisible:!1,closeOnContentClick:!0,form:{}}},mounted:function(){this.fetchData(),this.getCategories()},computed:z({},Object(S["d"])("modules_data",["sub_categories","categories","nested_sub_categories","product_disease"])),methods:z(z({pass_current:function(t){this.current=t}},Object(S["c"])("modules_data",["getSubCategories","getCategories","getNestedSubCategories","getProductDisease"])),{},{fetchData:function(){var t=this;this.loading=!0,this.$api.post(this.dynamic_route("/sub-category/admin/all"),{filters:this.filters}).then((function(e){t.subcategories=e.data.data})).catch((function(t){401==t.response.status&&t.response.statusText})).finally((function(){t.loading=!1,NProgress.done()}))},toggle_status:function(t,e){var a=this;this.loading=!0,j.a.put(this.dynamic_route("/properties/toggle-status/".concat(t)),{id:t,status:e},{headers:{authorization:"Bearer ".concat(this.authToken)}}).then((function(){a.fetchData(),a.$toast.success("Status updated successfully!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).catch((function(t){if(a.loading=!1,401==t.response.status&&"Unauthorized"==t.response.statusText)return a.logoutUser();a.$toast.error("An error occurred please try again!",{position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).finally((function(){a.loading=!1}))},deleteCategory:function(t){var e=this;this.$api.delete(this.dynamic_route("/sub-category/"+t)).then((function(t){e.$toasted.success("Deleted successfully!",{action:{text:"Close",onClick:function(t,e){e.goAway(0)}}}),e.fetchData()})).catch((function(t){401==t.response.status&&t.response.statusText})).finally((function(){NProgress.done()}))},linkPage:function(){this.$router.push({name:"CreateProduct"})},save:function(){var t=this;this.loading1=!0,this.$api.post(this.dynamic_route("/sub-category"),this.form).then((function(e){t.$toasted.success("Saved successfully!",{action:{text:"Close",onClick:function(t,e){e.goAway(0)}}}),t.fetchData()})).catch((function(e){401==e.response.status&&e.response.statusText,t.$toasted.error("Something went wrong...",{action:[{text:"Cancel",onClick:function(t,e){e.el.classList.remove("info"),e.el.classList.add("success")}}]})})).finally((function(){t.form={},t.loading1=!1,NProgress.done()}))}})},M=B,G=(a("7a00"),Object(H["a"])(M,v,y,!1,null,"42df88f6",null));e["default"]=G.exports}}]);